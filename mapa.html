<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Grupo 9">

<title>Localización del proyecto GuapiVerde en Guapi, Cauca</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="mapa_files/libs/clipboard/clipboard.min.js"></script>
<script src="mapa_files/libs/quarto-html/quarto.js"></script>
<script src="mapa_files/libs/quarto-html/popper.min.js"></script>
<script src="mapa_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="mapa_files/libs/quarto-html/anchor.min.js"></script>
<link href="mapa_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="mapa_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="mapa_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="mapa_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="mapa_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="mapa_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="mapa_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="mapa_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="mapa_files/libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="mapa_files/libs/leaflet-1.3.1/leaflet.js"></script>
<link href="mapa_files/libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="mapa_files/libs/proj4-2.6.2/proj4.min.js"></script>
<script src="mapa_files/libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="mapa_files/libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="mapa_files/libs/leaflet-binding-2.2.2/leaflet.js"></script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contenido</h2>
   
  <ul>
  <li><a href="#zonas-elegidas-para-el-proyecto" id="toc-zonas-elegidas-para-el-proyecto" class="nav-link active" data-scroll-target="#zonas-elegidas-para-el-proyecto"><span class="header-section-number">1</span> Zonas elegidas para el proyecto</a>
  <ul class="collapse">
  <li><a href="#quiroga" id="toc-quiroga" class="nav-link" data-scroll-target="#quiroga"><span class="header-section-number">1.1</span> Quiroga</a></li>
  <li><a href="#limones" id="toc-limones" class="nav-link" data-scroll-target="#limones"><span class="header-section-number">1.2</span> Limones</a></li>
  <li><a href="#juanico" id="toc-juanico" class="nav-link" data-scroll-target="#juanico"><span class="header-section-number">1.3</span> Juanico</a></li>
  <li><a href="#la-pampa" id="toc-la-pampa" class="nav-link" data-scroll-target="#la-pampa"><span class="header-section-number">1.4</span> La Pampa</a></li>
  <li><a href="#chamon" id="toc-chamon" class="nav-link" data-scroll-target="#chamon"><span class="header-section-number">1.5</span> Chamon</a></li>
  </ul></li>
  <li><a href="#mapa-general" id="toc-mapa-general" class="nav-link" data-scroll-target="#mapa-general"><span class="header-section-number">2</span> Mapa General</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Localización del proyecto GuapiVerde en Guapi, Cauca</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Grupo 9 </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p>La biorremediación es un proceso que utiliza microorganismos y otras técnicas biológicas para restaurar suelos afectados por contaminantes, como el glifosato. En el siguiente video se muestra paso a paso cómo se llevará a cabo este proceso en Guapi, Cauca.</p>
<p>::: <video width="640" height="360" controls=""> <source src="video_biorremediacion.mp4" type="video/mp4"> Tu navegador no soporta el tag de video. </video> :::</p>
<p>Guapi es un municipio ubicado en el departamento del Cauca, Colombia. En esta región se busca desarrollar un proyecto de biorremediación para suelos afectados por el glifosato. Este proyecto busca restaurar la fertilidad del suelo mediante el uso de técnicas biológicas y ecológicas, promoviendo el crecimiento sostenible de cultivos y la recuperación del ecosistema.</p>
<p>A continuación, se presentan las zonas de Guapi que han sido consideradas aptas para la realización del proyecto debido a su ubicación y lo afectadas que se encuentran por la aspersión de glifosato.</p>
<section id="zonas-elegidas-para-el-proyecto" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="zonas-elegidas-para-el-proyecto"><span class="header-section-number">1</span> Zonas elegidas para el proyecto</h2>
<section id="quiroga" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="quiroga"><span class="header-section-number">1.1</span> Quiroga</h3>
<p>Quiroga es una zona caracterizada por su biodiversidad y cercanía a cuerpos de agua que favorecen la pesca y la agricultura. La zona cuenta con una población que se dedica principalmente al cultivo de arroz, plátano y maíz, así como a la cría de aves de corral.</p>
<p>El acceso a Quiroga se da a través de caminos rurales, y su geografía presenta pequeñas elevaciones que favorecen el drenaje natural de las lluvias.</p>
<p>En esta zona, el proyecto de biorremediación se enfoca en la regeneración de suelos utilizados para cultivos tradicionales, evitando la erosión y mejorando la calidad del agua subterránea.</p>
<div class="cell">
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-e3356abda38a97853cad" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-e3356abda38a97853cad">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addCircleMarkers","args":[2.65,-77.90000000000001,6,null,null,{"interactive":true,"className":"","stroke":true,"color":"blue","weight":5,"opacity":0.5,"fill":true,"fillColor":"lightblue","fillOpacity":0.7},null,null,null,null,"Quiroga",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[2.65,2.65],"lng":[-77.90000000000001,-77.90000000000001]},"setView":[[2.65,-77.90000000000001],14,[]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="limones" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="limones"><span class="header-section-number">1.2</span> Limones</h3>
<p>Limones tiene gran importancia agrícola, aquí se cultivan productos como plátano, yuca y cacao, fundamentales para la economía local.</p>
<p>La comunidad de Limones se caracteriza por sus prácticas de agricultura sostenible y su conocimiento en el manejo de suelos. En la zona también se encuentran pequeñas explotaciones ganaderas y apícolas, lo que ha permitido diversificar las fuentes de ingreso de las familias.</p>
<p>El proyecto en esta zona se centra en la rehabilitación de terrenos afectados por la aspersión de glifosato, promoviendo técnicas de biofertilización y reforestación.</p>
<div class="cell">
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-2baca803a63a6ff90598" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-2baca803a63a6ff90598">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addCircleMarkers","args":[2.6,-77.92,6,null,null,{"interactive":true,"className":"","stroke":true,"color":"blue","weight":5,"opacity":0.5,"fill":true,"fillColor":"lightblue","fillOpacity":0.7},null,null,null,null,"Limones",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[2.6,2.6],"lng":[-77.92,-77.92]},"setView":[[2.6,-77.92],14,[]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="juanico" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="juanico"><span class="header-section-number">1.3</span> Juanico</h3>
<p>Juanico tiene una fuerte identidad cultural. Sus habitantes tienen una tradición en la música del Pacífico, con marimbas y cantos tradicionales que forman parte de las festividades locales. Además, la comunidad de Juanico se destaca por sus conocimientos en la pesca artesanal y la navegación en los ríos cercanos.</p>
<p>La actividad económica principal es la siembra de productos autóctonos como el chontaduro y el borojó, así como el trabajo en artesanías a base de materiales naturales.</p>
<p>En este sector, la biorremediación se enfoca en mitigar los efectos del glifosato en las fuentes hídricas y en la reintroducción de microorganismos benéficos en el suelo.</p>
<div class="cell">
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-a7ace2e114e15477973c" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-a7ace2e114e15477973c">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addCircleMarkers","args":[2.62,-77.88,6,null,null,{"interactive":true,"className":"","stroke":true,"color":"blue","weight":5,"opacity":0.5,"fill":true,"fillColor":"lightblue","fillOpacity":0.7},null,null,null,null,"Juanico",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[2.62,2.62],"lng":[-77.88,-77.88]},"setView":[[2.62,-77.88],14,[]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="la-pampa" class="level3" data-number="1.4">
<h3 data-number="1.4" class="anchored" data-anchor-id="la-pampa"><span class="header-section-number">1.4</span> La Pampa</h3>
<p>La Pampa tiene extensas zonas de humedales, hogar de una rica fauna y flora característica del ecosistema del litoral pacífico. La región es conocida por sus recursos hídricos, con numerosos arroyos y lagunas que proporcionan agua a la comunidad.</p>
<p>Sus habitantes combinan la agricultura con la pesca y la recolección de frutos silvestres. Debido a la gran presencia de vegetación, se han identificado diversas especies de aves y anfibios, lo que ha motivado proyectos de conservación ecológica.</p>
<p>Aquí, el proyecto de biorremediación se enfoca en la conservación de suelos y en la reducción de la contaminación química mediante cultivos regenerativos y barreras vegetales.</p>
<div class="cell">
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-8d56a6ff72495d1639e2" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-8d56a6ff72495d1639e2">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addCircleMarkers","args":[2.64,-77.87,6,null,null,{"interactive":true,"className":"","stroke":true,"color":"blue","weight":5,"opacity":0.5,"fill":true,"fillColor":"lightblue","fillOpacity":0.7},null,null,null,null,"La Pampa",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[2.64,2.64],"lng":[-77.87,-77.87]},"setView":[[2.64,-77.87],14,[]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="chamon" class="level3" data-number="1.5">
<h3 data-number="1.5" class="anchored" data-anchor-id="chamon"><span class="header-section-number">1.5</span> Chamon</h3>
<p>Chamon destaca por sus comunidades organizadas y su fuerte conexión con el río Guapi, fuente de sustento para los habitantes de la zona. La pesca es una actividad esencial para la economía local, complementada con la producción de coco y caña de azúcar.</p>
<p>Sus pobladores han desarrollado técnicas de conservación del suelo y del agua, implementando sistemas de drenaje natural.</p>
<p>En esta zona, la biorremediación busca restaurar la calidad del suelo para la producción sostenible de alimentos y la reducción de contaminantes en el agua.</p>
<div class="cell">
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-a7f23e25ff9698cfc761" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-a7f23e25ff9698cfc761">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addCircleMarkers","args":[2.61,-77.89,6,null,null,{"interactive":true,"className":"","stroke":true,"color":"blue","weight":5,"opacity":0.5,"fill":true,"fillColor":"lightblue","fillOpacity":0.7},null,null,null,null,"Chamon",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[2.61,2.61],"lng":[-77.89,-77.89]},"setView":[[2.61,-77.89],14,[]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="mapa-general" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="mapa-general"><span class="header-section-number">2</span> Mapa General</h2>
<p>Estas zonas han sido seleccionadas para la implementación del proyecto de biorremediación debido a su importancia ambiental y agrícola. La intervención busca restaurar la fertilidad de los suelos y proteger las fuentes hídricas esenciales para la comunidad.</p>
<div class="cell">
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-f6f97c7b9c5e8f996ee2" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-f6f97c7b9c5e8f996ee2">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addCircleMarkers","args":[[2.65,2.6,2.62,2.64,2.61],[-77.90000000000001,-77.92,-77.88,-77.87,-77.89],6,null,null,{"interactive":true,"className":"","stroke":true,"color":"blue","weight":5,"opacity":0.5,"fill":true,"fillColor":"lightblue","fillOpacity":0.7},null,null,null,null,["Quiroga","Limones","Juanico","La Pampa","Chamon"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[2.6,2.65],"lng":[-77.92,-77.87]},"setView":[[2.63,-77.90000000000001],12,[]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>